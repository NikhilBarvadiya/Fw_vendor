import 'package:flutter/material.dart';import 'package:fw_vendor/common/config.dart';import 'package:fw_vendor/core/configuration/app_routes.dart';import 'package:fw_vendor/core/utilities/index.dart';import 'package:fw_vendor/networking/index.dart';import 'package:get/get.dart';class LoginController extends GetxController {  TextEditingController txtEmailController = TextEditingController();  TextEditingController txtPasswordController = TextEditingController();  final formKey = GlobalKey<FormState>();  bool isLoading = false;  void onLoginButton() async {    try {      isLoading = true;      update();      var resData = await apis.call(        apiMethods.login,        {          "emailId": txtEmailController.text,          "password": txtPasswordController.text,          "loginWith": "emailId",        },        ApiType.post,      );      if (resData.isSuccess == true && resData.data != 0) {        writeStorage(Session.userData, resData.data[0]);        writeStorage(Session.authToken, resData.data[0]['accessToken']);        Get.toNamed(AppRoutes.home);      } else {        errorDialog("Please try again ?");      }    } catch (e) {      throw Exception("Failed to load users");    }    isLoading = false;    update();  }}